"use strict";(self.webpackChunkeliza_docs=self.webpackChunkeliza_docs||[]).push([[20292],{99873:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"functions/trimTokens","title":"trimTokens","description":"@elizaos/core v0.25.8 / trimTokens","source":"@site/api/functions/trimTokens.md","sourceDirName":"functions","slug":"/functions/trimTokens","permalink":"/eliza/api/functions/trimTokens","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"stringToUuid","permalink":"/eliza/api/functions/stringToUuid"},"next":{"title":"truncateToCompleteSentence","permalink":"/eliza/api/functions/truncateToCompleteSentence"}}');var r=t(74848),s=t(28453);const o={},c="Function: trimTokens()",d={},l=[{value:"Parameters",id:"parameters",level:2},{value:"Returns",id:"returns",level:2},{value:"Async",id:"async",level:2},{value:"Function",id:"function",level:2},{value:"Throws",id:"throws",level:2},{value:"Example",id:"example",level:2},{value:"Defined in",id:"defined-in",level:2}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/eliza/api/",children:"@elizaos/core v0.25.8"})," / trimTokens"]}),"\n",(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"function-trimtokens",children:"Function: trimTokens()"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"trimTokens"}),"(",(0,r.jsx)(n.code,{children:"context"}),", ",(0,r.jsx)(n.code,{children:"maxTokens"}),", ",(0,r.jsx)(n.code,{children:"runtime"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"string"}),">"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Trims the provided text context to a specified token limit using a tokenizer model and type."}),"\n",(0,r.jsx)(n.p,{children:'The function dynamically determines the truncation method based on the tokenizer settings\nprovided by the runtime. If no tokenizer settings are defined, it defaults to using the\nTikToken truncation method with the "gpt-4o" model.'}),"\n",(0,r.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"context"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n",(0,r.jsx)(n.p,{children:"The text to be tokenized and trimmed."}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"maxTokens"}),": ",(0,r.jsx)(n.code,{children:"number"})]}),"\n",(0,r.jsx)(n.p,{children:"The maximum number of tokens allowed after truncation."}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"runtime"}),": ",(0,r.jsx)(n.a,{href:"/eliza/api/interfaces/IAgentRuntime",children:(0,r.jsx)(n.code,{children:"IAgentRuntime"})})]}),"\n",(0,r.jsx)(n.p,{children:"The runtime interface providing tokenizer settings."}),"\n",(0,r.jsx)(n.h2,{id:"returns",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"string"}),">"]}),"\n",(0,r.jsx)(n.p,{children:"A promise that resolves to the trimmed text."}),"\n",(0,r.jsx)(n.h2,{id:"async",children:"Async"}),"\n",(0,r.jsx)(n.h2,{id:"function",children:"Function"}),"\n",(0,r.jsx)(n.p,{children:"trimTokens"}),"\n",(0,r.jsx)(n.h2,{id:"throws",children:"Throws"}),"\n",(0,r.jsx)(n.p,{children:"Throws an error if the runtime settings are invalid or missing required fields."}),"\n",(0,r.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:'const trimmedText = await trimTokens("This is an example text", 50, runtime);\nconsole.log(trimmedText); // Output will be a truncated version of the input text.\n'})}),"\n",(0,r.jsx)(n.h2,{id:"defined-in",children:"Defined in"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://github.com/elizaOS/eliza/blob/main/packages/core/src/generation.ts#L101",children:"packages/core/src/generation.ts:101"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>c});var i=t(96540);const r={},s=i.createContext(r);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);